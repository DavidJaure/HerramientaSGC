<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Plantillas ISO 9001</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen p-8">

  <div class="max-w-5xl mx-auto">
    <h1 class="text-3xl font-bold text-gray-800 mb-6 text-center">Plantillas ISO 9001</h1>

    <!-- Contexto -->
    <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
      <h2 class="text-2xl font-semibold mb-4"> Contexto</h2>
      <ul class="space-y-3">
        <li class="flex flex-col md:flex-row md:items-center gap-3">
          <a href="{{ url_for('descargar_plantilla', categoria='contexto', archivo='PlantillaAlcanceformato.xlsx') }}" 
             class="flex-1 text-center px-4 py-2 bg-blue-600 text-white rounded-lg shadow hover:bg-blue-700 transition"> Alcance 💾</a>

          <input type="file" id="file-alcance" class="hidden" onchange="actualizarEstado('alcance')">
          <button class="flex items-center bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition duration-300" onclick="window.location.href='https://www.youtube.com/watch?v=TUVIDEOID'">
    <img src="https://cdn.pixabay.com/photo/2023/04/25/00/48/youtube-7949229_1280.png" alt="Logo" class="w-6 h-6 mr-3">
    Ver Video
  </button>
          <button type="button" onclick="document.getElementById('file-alcance').click()" 
                  class="flex-1 text-center px-4 py-2 bg-gray-400 text-white rounded-lg shadow hover:bg-gray-500 transition">Subir Actualizada</button>
          <a href="#" id="descargar-alcance" 
             class="flex-1 text-center px-4 py-2 bg-green-600 text-white rounded-lg shadow hover:bg-green-700 transition opacity-50 pointer-events-none">Descargar Actualizada</a>
          <span id="estado-alcance" class="font-bold text-red-500 min-w-[100px] text-center">Pendiente</span>
        </li>

        <li class="flex flex-col md:flex-row md:items-center gap-3">
          <a href="{{ url_for('descargar_plantilla', categoria='contexto', archivo='MapadeProcesosformato.xlsx') }}" 
             class="flex-1 text-center px-4 py-2 bg-blue-600 text-white rounded-lg shadow hover:bg-blue-700 transition">Mapa de Procesos 💾</a>
          <input type="file" id="file-mapa" class="hidden" onchange="actualizarEstado('mapa')">
          <button class="flex items-center bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition duration-300" onclick="window.location.href='https://www.youtube.com/watch?v=TUVIDEOID'">
    <img src="https://cdn.pixabay.com/photo/2023/04/25/00/48/youtube-7949229_1280.png" alt="Logo" class="w-6 h-6 mr-3">
    Ver Video
  </button>
          <button type="button" onclick="document.getElementById('file-mapa').click()" 
                  class="flex-1 text-center px-4 py-2 bg-gray-400 text-white rounded-lg shadow hover:bg-gray-500 transition">Subir Actualizada</button>
          <a href="#" id="descargar-mapa" 
             class="flex-1 text-center px-4 py-2 bg-green-600 text-white rounded-lg shadow hover:bg-green-700 transition opacity-50 pointer-events-none">Descargar Actualizada</a>
          <span id="estado-mapa" class="font-bold text-red-500 min-w-[100px] text-center">Pendiente</span>
        </li>

        <li class="flex flex-col md:flex-row md:items-center gap-3">
          <a href="{{ url_for('descargar_plantilla', categoria='contexto', archivo='FichadeprocesosFormato.xlsx') }}" 
             class="flex-1 text-center px-4 py-2 bg-blue-600 text-white rounded-lg shadow hover:bg-blue-700 transition">Ficha de Procesos 💾</a>
          <input type="file" id="file-ficha" class="hidden" onchange="actualizarEstado('ficha')">
          <button class="flex items-center bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition duration-300" onclick="window.location.href='https://www.youtube.com/watch?v=TUVIDEOID'">
    <img src="https://cdn.pixabay.com/photo/2023/04/25/00/48/youtube-7949229_1280.png" alt="Logo" class="w-6 h-6 mr-3">
    Ver Video
  </button>
          <button type="button" onclick="document.getElementById('file-ficha').click()" 
                  class="flex-1 text-center px-4 py-2 bg-gray-400 text-white rounded-lg shadow hover:bg-gray-500 transition">Subir Actualizada</button>
          <a href="#" id="descargar-ficha" 
             class="flex-1 text-center px-4 py-2 bg-green-600 text-white rounded-lg shadow hover:bg-green-700 transition opacity-50 pointer-events-none">Descargar Actualizada</a>
          <span id="estado-ficha" class="font-bold text-red-500 min-w-[100px] text-center">Pendiente</span>
        </li>

        <li class="flex flex-col md:flex-row md:items-center gap-3">
          <a href="{{ url_for('descargar_plantilla', categoria='contexto', archivo='PlantillaPartesinteresadasformato.xlsx') }}" 
             class="flex-1 text-center px-4 py-2 bg-blue-600 text-white rounded-lg shadow hover:bg-blue-700 transition">Partes Interesadas 💾</a>
          <input type="file" id="file-partes" class="hidden" onchange="actualizarEstado('partes')">
          <button class="flex items-center bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition duration-300" onclick="window.location.href='https://www.youtube.com/watch?v=TUVIDEOID'">
    <img src="https://cdn.pixabay.com/photo/2023/04/25/00/48/youtube-7949229_1280.png" alt="Logo" class="w-6 h-6 mr-3">
    Ver Video
  </button>
          <button type="button" onclick="document.getElementById('file-partes').click()" 
                  class="flex-1 text-center px-4 py-2 bg-gray-400 text-white rounded-lg shadow hover:bg-gray-500 transition">Subir Actualizada</button>
          <a href="#" id="descargar-partes" 
             class="flex-1 text-center px-4 py-2 bg-green-600 text-white rounded-lg shadow hover:bg-green-700 transition opacity-50 pointer-events-none">Descargar Actualizada</a>
          <span id="estado-partes" class="font-bold text-red-500 min-w-[100px] text-center">Pendiente</span>
        </li>

        <li class="flex flex-col md:flex-row md:items-center gap-3">
          <a href="{{ url_for('descargar_plantilla', categoria='contexto', archivo='PlantillaFODAFormato.xlsx') }}" 
             class="flex-1 text-center px-4 py-2 bg-blue-600 text-white rounded-lg shadow hover:bg-blue-700 transition">FODA 💾</a>
          <input type="file" id="file-foda" class="hidden" onchange="actualizarEstado('foda')">
          <button class="flex items-center bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition duration-300" onclick="window.location.href='https://www.youtube.com/watch?v=TUVIDEOID'">
    <img src="https://cdn.pixabay.com/photo/2023/04/25/00/48/youtube-7949229_1280.png" alt="Logo" class="w-6 h-6 mr-3">
    Ver Video
  </button>
          <button type="button" onclick="document.getElementById('file-foda').click()" 
                  class="flex-1 text-center px-4 py-2 bg-gray-400 text-white rounded-lg shadow hover:bg-gray-500 transition">Subir Actualizada</button>
          <a href="#" id="descargar-foda" 
             class="flex-1 text-center px-4 py-2 bg-green-600 text-white rounded-lg shadow hover:bg-green-700 transition opacity-50 pointer-events-none">Descargar Actualizada</a>
          <span id="estado-foda" class="font-bold text-red-500 min-w-[100px] text-center">Pendiente</span>
        </li>

        <li class="flex flex-col md:flex-row md:items-center gap-3">
          <a href="{{ url_for('descargar_plantilla', categoria='contexto', archivo='PlantillaPESTALFormato.xlsx') }}" 
             class="flex-1 text-center px-4 py-2 bg-blue-600 text-white rounded-lg shadow hover:bg-blue-700 transition">PESTAL 💾</a>
          <input type="file" id="file-pestal" class="hidden" onchange="actualizarEstado('pestal')">
          <button class="flex items-center bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition duration-300" onclick="window.location.href='https://www.youtube.com/watch?v=TUVIDEOID'">
    <img src="https://cdn.pixabay.com/photo/2023/04/25/00/48/youtube-7949229_1280.png" alt="Logo" class="w-6 h-6 mr-3">
    Ver Video
  </button>
          <button type="button" onclick="document.getElementById('file-pestal').click()" 
                  class="flex-1 text-center px-4 py-2 bg-gray-400 text-white rounded-lg shadow hover:bg-gray-500 transition">Subir Actualizada</button>
          <a href="#" id="descargar-pestal" 
             class="flex-1 text-center px-4 py-2 bg-green-600 text-white rounded-lg shadow hover:bg-green-700 transition opacity-50 pointer-events-none">Descargar Actualizada</a>
          <span id="estado-pestal" class="font-bold text-red-500 min-w-[100px] text-center">Pendiente</span>
        </li>

        <li class="flex flex-col md:flex-row md:items-center gap-3">
          <a href="{{ url_for('descargar_plantilla', categoria='contexto', archivo='Plantilla5FUERZASDEPORTERFormato.xlsx') }}" 
             class="flex-1 text-center px-4 py-2 bg-blue-600 text-white rounded-lg shadow hover:bg-blue-700 transition">5 Fuerzas de Porter 💾</a>
          <input type="file" id="file-fuerzas" class="hidden" onchange="actualizarEstado('fuerzas')">
          <button class="flex items-center bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition duration-300" onclick="window.location.href='https://www.youtube.com/watch?v=TUVIDEOID'">
    <img src="https://cdn.pixabay.com/photo/2023/04/25/00/48/youtube-7949229_1280.png" alt="Logo" class="w-6 h-6 mr-3">
    Ver Video
  </button>
          <button type="button" onclick="document.getElementById('file-fuerzas').click()" 
                  class="flex-1 text-center px-4 py-2 bg-gray-400 text-white rounded-lg shadow hover:bg-gray-500 transition">Subir Actualizada</button>
          <a href="#" id="descargar-fuerzas" 
             class="flex-1 text-center px-4 py-2 bg-green-600 text-white rounded-lg shadow hover:bg-green-700 transition opacity-50 pointer-events-none">Descargar Actualizada</a>
          <span id="estado-fuerzas" class="font-bold text-red-500 min-w-[100px] text-center">Pendiente</span>
        </li>
      </ul>
    </div>

    <!-- Liderazgo -->
    <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
      <h2 class="text-2xl font-semibold mb-4">👥 Liderazgo</h2>
      <ul class="space-y-3">
        <li class="flex flex-col md:flex-row md:items-center gap-3">
          <a href="{{ url_for('descargar_plantilla', categoria='liderazgo', archivo='ChecklistLiderazgoActualFormato.xlsx') }}" 
             class="flex-1 text-center px-4 py-2 bg-blue-600 text-white rounded-lg shadow hover:bg-blue-700 transition">Liderazgo 💾</a>
          <input type="file" id="file-liderazgo1" class="hidden" onchange="actualizarEstado('liderazgo1')">
          <button class="flex items-center bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition duration-300" onclick="window.location.href='https://www.youtube.com/watch?v=TUVIDEOID'">
    <img src="https://cdn.pixabay.com/photo/2023/04/25/00/48/youtube-7949229_1280.png" alt="Logo" class="w-6 h-6 mr-3">
    Ver Video
  </button>
          <button type="button" onclick="document.getElementById('file-liderazgo1').click()" 
                  class="flex-1 text-center px-4 py-2 bg-gray-400 text-white rounded-lg shadow hover:bg-gray-500 transition">Subir Actualizada</button>
          <a href="#" id="descargar-liderazgo1" 
             class="flex-1 text-center px-4 py-2 bg-green-600 text-white rounded-lg shadow hover:bg-green-700 transition opacity-50 pointer-events-none">Descargar Actualizada</a>
          <span id="estado-liderazgo1" class="font-bold text-red-500 min-w-[100px] text-center">Pendiente</span>
        </li>
        <li class="flex flex-col md:flex-row md:items-center gap-3">
          
          <a href="{{ url_for('descargar_plantilla', categoria='liderazgo', archivo='PlantillaPolíticadeCalidadFormato.xlsx') }}" 
             class="flex-1 text-center px-4 py-2 bg-blue-600 text-white rounded-lg shadow hover:bg-blue-700 transition">Política de Calidad 💾</a>
          <input type="file" id="file-liderazgo2" class="hidden" onchange="actualizarEstado('liderazgo2')">
          <button class="flex items-center bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition duration-300" onclick="window.location.href='https://www.youtube.com/watch?v=TUVIDEOID'">
    <img src="https://cdn.pixabay.com/photo/2023/04/25/00/48/youtube-7949229_1280.png" alt="Logo" class="w-6 h-6 mr-3">
    Ver Video
  </button>
          <button type="button" onclick="document.getElementById('file-liderazgo2').click()" 
                  class="flex-1 text-center px-4 py-2 bg-gray-400 text-white rounded-lg shadow hover:bg-gray-500 transition">Subir Actualizada</button>
          <a href="#" id="descargar-liderazgo2" 
             class="flex-1 text-center px-4 py-2 bg-green-600 text-white rounded-lg shadow hover:bg-green-700 transition opacity-50 pointer-events-none">Descargar Actualizada</a>
          <span id="estado-liderazgo2" class="font-bold text-red-500 min-w-[100px] text-center">Pendiente</span>
        </li>
      </ul>
    </div>

    <!-- Evaluación del Desempeño -->
    <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
      <h2 class="text-2xl font-semibold mb-4">📊 Evaluación del Desempeño</h2>
      <ul class="space-y-3">
        <li class="flex flex-col md:flex-row md:items-center gap-3">
          <a href="{{ url_for('descargar_plantilla', categoria='evaluacionDesempeño', archivo='1.14.MultiplantillaIndicadoresporareaFuncionalADNLean.xlsx') }}" 
             class="flex-1 text-center px-4 py-2 bg-blue-600 text-white rounded-lg shadow hover:bg-blue-700 transition">Multiplantilla Indicadores por Área Funcional 💾</a>
          <input type="file" id="file-indicadores1" class="hidden" onchange="actualizarEstado('indicadores1')">
          
          <button class="flex items-center bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition duration-300" onclick="window.location.href='https://www.youtube.com/watch?v=TUVIDEOID'">
    <img src="https://cdn.pixabay.com/photo/2023/04/25/00/48/youtube-7949229_1280.png" alt="Logo" class="w-6 h-6 mr-3">
    Ver Video
  </button>
          <button type="button" onclick="document.getElementById('file-indicadores1').click()" 
                  class="flex-1 text-center px-4 py-2 bg-gray-400 text-white rounded-lg shadow hover:bg-gray-500 transition">Subir Actualizada</button>
          <a href="#" id="descargar-indicadores1" 
             class="flex-1 text-center px-4 py-2 bg-green-600 text-white rounded-lg shadow hover:bg-green-700 transition opacity-50 pointer-events-none">Descargar Actualizada</a>
          <span id="estado-indicadores1" class="font-bold text-red-500 min-w-[100px] text-center">Pendiente</span>
        </li>

        <li class="flex flex-col md:flex-row md:items-center gap-3">
          <a href="{{ url_for('descargar_plantilla', categoria='evaluacionDesempeño', archivo='9.1.SeguimientomediciónanálisisyevaluaciónFormato.xlsx') }}" 
             class="flex-1 text-center px-4 py-2 bg-blue-600 text-white rounded-lg shadow hover:bg-blue-700 transition">Seguimiento Medición, Análisis y Evaluación 💾</a>
          <input type="file" id="file-indicadores2" class="hidden" onchange="actualizarEstado('indicadores2')">
          <button type="button" onclick="document.getElementById('file-indicadores2').click()" 
                  class="flex-1 text-center px-4 py-2 bg-gray-400 text-white rounded-lg shadow hover:bg-gray-500 transition">Subir Actualizada</button>
          <a href="#" id="descargar-indicadores2" 
             class="flex-1 text-center px-4 py-2 bg-green-600 text-white rounded-lg shadow hover:bg-green-700 transition opacity-50 pointer-events-none">Descargar Actualizada</a>
          <span id="estado-indicadores2" class="font-bold text-red-500 min-w-[100px] text-center">Pendiente</span>
        </li>
      </ul>
    </div>

    <!-- Operación -->
    <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
      <h2 class="text-2xl font-semibold mb-4">⚙️ Operación</h2>
      <ul class="space-y-3">
        <li class="flex flex-col md:flex-row md:items-center gap-3">
          <a href="{{ url_for('descargar_plantilla', categoria='operacion', archivo='8.1.Planificaciónycontroloperacional.xlsx') }}" 
             class="flex-1 text-center px-4 py-2 bg-blue-600 text-white rounded-lg shadow hover:bg-blue-700 transition">Planificación y Control Operacional 💾</a>
          <input type="file" id="file-operacion1" class="hidden" onchange="actualizarEstado('operacion1')">
          <button type="button" onclick="document.getElementById('file-operacion1').click()" 
                  class="flex-1 text-center px-4 py-2 bg-gray-400 text-white rounded-lg shadow hover:bg-gray-500 transition">Subir Actualizada</button>
          <a href="#" id="descargar-operacion1" 
             class="flex-1 text-center px-4 py-2 bg-green-600 text-white rounded-lg shadow hover:bg-green-700 transition opacity-50 pointer-events-none">Descargar Actualizada</a>
          <span id="estado-operacion1" class="font-bold text-red-500 min-w-[100px] text-center">Pendiente</span>
        </li>
      </ul>
    </div>

    <!-- Planificación -->
    <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
      <h2 class="text-2xl font-semibold mb-4">📝 Planificación</h2>
      <ul class="space-y-3">
        <li class="flex flex-col md:flex-row md:items-center gap-3">
          <a href="{{ url_for('descargar_plantilla', categoria='planificacion', archivo='Objetivosdecalidad.xlsx') }}" 
             class="flex-1 text-center px-4 py-2 bg-blue-600 text-white rounded-lg shadow hover:bg-blue-700 transition">Objetivos de Calidad 💾</a>
          <input type="file" id="file-planificacion1" class="hidden" onchange="actualizarEstado('planificacion1')">
          <button type="button" onclick="document.getElementById('file-planificacion1').click()" 
                  class="flex-1 text-center px-4 py-2 bg-gray-400 text-white rounded-lg shadow hover:bg-gray-500 transition">Subir Actualizada</button>
          <a href="#" id="descargar-planificacion1" 
             class="flex-1 text-center px-4 py-2 bg-green-600 text-white rounded-lg shadow hover:bg-green-700 transition opacity-50 pointer-events-none">Descargar Actualizada</a>
          <span id="estado-planificacion1" class="font-bold text-red-500 min-w-[100px] text-center">Pendiente</span>
        </li>
      </ul>
    </div>

    <!-- Soporte -->
    <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
      <h2 class="text-2xl font-semibold mb-4">🛠 Soporte</h2>
      <ul class="space-y-3">
        <li class="flex flex-col md:flex-row md:items-center gap-3">
          <a href="{{ url_for('descargar_plantilla', categoria='soporte', archivo='7.1.4.FormatoMedicióndecondicionesfísicas.xlsx') }}" 
             class="flex-1 text-center px-4 py-2 bg-blue-600 text-white rounded-lg shadow hover:bg-blue-700 transition">Medición de Condiciones Físicas 💾</a>
          <input type="file" id="file-soporte1" class="hidden" onchange="actualizarEstado('soporte1')">
          <button type="button" onclick="document.getElementById('file-soporte1').click()" 
                  class="flex-1 text-center px-4 py-2 bg-gray-400 text-white rounded-lg shadow hover:bg-gray-500 transition">Subir Actualizada</button>
          <a href="#" id="descargar-soporte1" 
             class="flex-1 text-center px-4 py-2 bg-green-600 text-white rounded-lg shadow hover:bg-green-700 transition opacity-50 pointer-events-none">Descargar Actualizada</a>
          <span id="estado-soporte1" class="font-bold text-red-500 min-w-[100px] text-center">Pendiente</span>
        </li>
      </ul>
    </div>

    <!-- Botones de acción -->
    <div class="flex flex-wrap gap-4 mt-8 justify-center">
      <button class="px-6 py-3 bg-purple-600 text-white font-semibold rounded-xl shadow-md hover:bg-purple-700 transition">Guardar</button>
      <!--<a href="{{ url_for('dashboard') }}" class="px-6 py-3 bg-gray-600 text-white font-semibold rounded-xl shadow-md hover:bg-gray-700 transition">Volver</a>-->
      <a href="{{ url_for('capacitacion') }}" class="px-6 py-3 bg-blue-600 text-white font-semibold rounded-xl shadow-md hover:bg-blue-700 transition">Capacitación</a>
      <a href="{{ url_for('auditoria') }}" class="px-6 py-3 bg-green-600 text-white font-semibold rounded-xl shadow-md hover:bg-green-700 transition">Auditoría</a>
    </div>

  </div>

  <script>
  // Inicializar estados de ejemplo desde Flask
  const plantillas = {{ plantillas | tojson }};
  plantillas.forEach(p => {
    const estado = document.getElementById("estado-" + p.id);
    const btnDescargar = document.getElementById("descargar-" + p.id);
    if (p.completada) {
      estado.textContent = "Completado";
      estado.classList.remove("text-red-500");
      estado.classList.add("text-green-600");
      btnDescargar.classList.remove("opacity-50", "pointer-events-none");
    }
  });

  // Función para actualizar manualmente tras subir
  function actualizarEstado(nombre) {
    const estado = document.getElementById("estado-" + nombre);
    estado.textContent = "Completado";
    estado.classList.remove("text-red-500");
    estado.classList.add("text-green-600");

    const btnDescargar = document.getElementById("descargar-" + nombre);
    btnDescargar.classList.remove("opacity-50", "pointer-events-none");
  }
</script>


</body>
</html>
